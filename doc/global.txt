"SPARTA WWW Site"_sws - "SPARTA Documentation"_sd - "SPARTA Commands"_sc :c

:link(sws,http://dsmc.sandia.gov)
:link(sd,Manual.html)
:link(sc,Section_commands.html#comm)

:line

global command :h3

[Syntax:]

global keyword values ... :pre

one or more keyword/value pairs :ulb,l
keyword = {fnum} or {nrho} or {vstream} or {temp} or {gravity} or {surfmax} or {gridcut} :l
  {fnum} value = ratio
    ratio = Fnum ratio of physical particles to simulation particles
  {nrho} value = density
    density = number density of background gas (# per length^3 units)
  {vstream} values = Vx Vy Vz
    Vx,Vy,Vz = streaming velocity of background gas (velocity units)
  {temp} values = thermal
    thermal = temperature of background gas (temperature units)
  {gravity} values = mag ex ey ez
    mag = magnitude of acceleration due to gravity (acceleration units)
    ex,ey,ez = direction vector that gravity acts in
  {surfmax} value = Nsurf
    Nsurf = max # of surface elements allowed in single grid cell
  {gridcut} value = cutoff
    cutoff = acquire ghost cells up to this far away (distance units) :pre
:ule

[Examples:]

background fnum 1.0e20
background vstream 100.0 0 0
background temp 1000 :pre

[Description:]

Define global properties of the system.

The {fnum} keyword sets the ratio of real, physical particles
(i.e. molecules) to simulation particles.

The {nrho} keyword sets the number density of the background gas.
For 3d simulations the units are #/volume.  For 2d, the units are
effectively #/area.

Assuming your simulation is populated by particles from the
background gas, the {fnum} and {nrho} settings determine
how many particles will be present in your simulation.

The {vstream} keyword sets the streaming velocity of the background
gas.

The {temp} keyword sets the thermal temperature of the background gas.
This is a Gaussian velocity distribution superposed
on top of the streaming velocity.

The {gravity} keyword sets an acceleration term which is included in
the motion of particles.  The magnitude of gravity is set by the {mag}
keyword.  Its direction of action is set as (ex,ex,ez).  The direction
does not have to be a unit vector, since the code renormlizes the
direction vector by the magnitude.  If the magnitude is set to 0.0, no
acceleration term is included, which is the default.

The {surfmax} keyword determines the maximum number of surface
elements (lines in 2d, triangles in 3d) can overlap a single grid
cell.  The default is 100, which should be large enough for most
simulations, unless you define very coarse grid cells (relative to the
size of surface elements).  

The {gridcut} keyword determines the distance at which ghost grid
cells will be stored by each processor.  Assuming the processor owns a
compact clump of grid cells, it will also store ghost cell information
from nearby grid cells, up to this distance away.  If the setting is <
0.0 (the default) then each processor owns a copy of ghost cells for
all grid cells in the simulation.  This can require too much memory
for large models.  If the cutoff is too short, more communication of
particles may be needed to complete particle moves each timestep.

NOTE: doc more about trade-off in comm/comp for this gridcut setting.

[Restrictions:]

The global surfmax command must be used before surface elements are
defined, e.g. via the "read_surf"_read_surf.html command.

The global gridcut command with a cutoff >= 0.0 will only be active if
the grid cells owned by each processor are "clumped" by the time a
simulation is performed.  This will be the case if the RCB option of
the "balance_grid"_balance_grid.html or "fix balance"_fix_balance.html
command is used.  If they are not clumped, a cutoff setting >= 0.0
will generate an error.

[Related commands:]

"mixture"_mixture.html

[Default:]

The keyword defaults are fnum = 1.0, nrho = 1.0, vstream = 0.0 0.0
0.0, temp = 273.15, gravity = 0.0 0.0 0.0 0.0, surfmax = 100, gridcut
= -1.0.

<HTML>
<CENTER><A HREF = "http://dsmc.sandia.gov">DSMC WWW Site</A> - <A HREF = "Manual.html">DSMC Documentation</A> - <A HREF = "Section_commands.html#comm">DSMC Commands</A> 
</CENTER>






<HR>

<H3>dump command 
</H3>
<H3><A HREF = "dump_image.html">dump image</A> command 
</H3>
<P><B>Syntax:</B>
</P>
<PRE>dump ID style N file args 
</PRE>
<UL><LI>ID = user-assigned name for the dump 

<LI>style = <I>particle</I> or <I>image</I> 

<LI>N = dump every this many timesteps 

<LI>file = name of file to write dump info to 

<LI>args = list of arguments for a particular style 

<PRE>  <I>image</I> args = discussed on <A HREF = "dump_image.html">dump image</A> doc page
  <I>custom</I> args = list of particle attributes
    possible attributes = id, type, x, y, z, xs, ys, zs, vx, vy, vz,
                          c_ID, c_ID[N], f_ID, f_ID[N], v_name 
</PRE>
<PRE>      id = particle ID
      type = particle species
      x,y,z = unscaled particle coordinates
      xs,ys,zs = scaled particle coordinates
      vx,vy,vz = particle velocities
      c_ID = per-particle vector calculated by a compute with ID
      c_ID[N] = Nth column of per-particle array calculated by a compute with ID
      f_ID = per-particle vector calculated by a fix with ID
      f_ID[N] = Nth column of per-particle array calculated by a fix with ID
      v_name = per-particle vector calculated by an particle-style variable with name 
</PRE>

</UL>
<P><B>Examples:</B>
</P>
<PRE>dump 1 particle 100 dump.myforce.* id type x y vx fx
dump 2 particle 100 dump.%.myforce id type c_myF[3] v_ke 
</PRE>
<P><B>Description:</B>
</P>
<P>Dump a snapshot of simulation quantities to one or more files every N
timesteps in one of several styles.  The <I>image</I> style is the
exception; it creates a JPG or PPM image file of the simulation
configuration every N timesteps, as discussed on the <A HREF = "dump_image.html">dump
image</A> doc page.
</P>
<P>Only information for particles in the specified group is dumped.  The
<A HREF = "dump_modify.html">dump_modify thresh and region</A> commands can also
alter what particles are included.  Not all styles support all these
options; see details below.
</P>
<P>As described below, the filename determines the kind of output (text
or binary or gzipped, one big file or one per timestep, one big file
or one per processor).
</P>
<HR>

<P>The <I>style</I> keyword determines what quantities are written to the file
and in what format.  Settings made via the
<A HREF = "dump_modify.html">dump_modify</A> command can also alter the format of
individual values and the file itself.
</P>
<P>The <I>particle</I> style create files in a simple text format that is
self-explanatory when viewing a dump file.  Many of the DSMC
<A HREF = "Section_tools.html">post-processing tools</A>, including
<A HREF = "http://www.sandia.gov/~sjplimp/pizza.html">Pizza.py</A>, work with this
format.
</P>
<P>For post-processing purposes the <I>particle</I> text files are
self-describing in the following sense.
</P>
<P>The dimensions of the simulation box are included in each snapshot.
This information is is formatted as:
</P>
<PRE>ITEM: BOX BOUNDS xx yy zz
xlo xhi
ylo yhi
zlo zhi 
</PRE>
<P>where xlo,xhi are the maximum extents of the simulation box in the
x-dimension, and similarly for y and z.  The "xx yy zz" represent 6
characters that encode the style of boundary for each of the 6
simulation box boundaries (xlo,xhi and ylo,yhi and zlo,zhi).  Each of
the 6 characters is either o = outflow, p = periodic, or s = specular.
See the <A HREF = "doc/boundary.html">boundary</A> command for details.
</P>
<P>The "ITEM: ATOMS" line in each snapshot lists column descriptors for
the per-particle lines that follow.  The descriptors will be the
particle attributes you specify in the dump command for the <I>particle</I>
style.
</P>
<P>Style <I>particle</I> allows you to specify a list of particle attributes
to be written to the dump file for each particle.  Possible attributes
are listed above and will appear in the order specified.  An
explanation of the possible dump particle attributes is given below.
</P>
<HR>

<P>Dumps are performed on timesteps that are a multiple of N (including
timestep 0).  Note that this means a dump will not be performed on the
initial timestep after the dump command is invoked, if the current
timestep is not a multiple of N.  This behavior can be changed via the
<A HREF = "dump_modify.html">dump_modify first</A> command.  N can be changed
between runs by using the <A HREF = "dump_modify.html">dump_modify every</A>
command.
</P>
<P>The specified filename determines how the dump file(s) is written.
The default is to write one large text file, which is opened when the
dump command is invoked and closed when an <A HREF = "undump.html">undump</A>
command is used or when DSMC exits.
</P>
<P>Dump filenames can contain two wildcard characters.  If a "*"
character appears in the filename, then one file per snapshot is
written and the "*" character is replaced with the timestep value.
For example, tmp.dump.* becomes tmp.dump.0, tmp.dump.10000,
tmp.dump.20000, etc.  Note that the <A HREF = "dump_modify.html">dump_modify pad</A>
command can be used to insure all timestep numbers are the same length
(e.g. 00010), which can make it easier to read a series of dump files
in order by some post-processing tools.
</P>
<P>If a "%" character appears in the filename, then one file is written
for each processor and the "%" character is replaced with the
processor ID from 0 to P-1.  For example, tmp.dump.% becomes
tmp.dump.0, tmp.dump.1, ... tmp.dump.P-1, etc.  This creates smaller
files and can be a fast mode of output on parallel machines that
support parallel I/O for output.
</P>
<P>Note that the "*" and "%" characters can be used together to produce a
large number of small dump files!
</P>
<P>If the filename ends with ".bin", the dump file (or files, if "*" or
"%" is also used) is written in binary format.  A binary dump file
will be about the same size as a text version, but will typically
write out much faster.  Of course, when post-processing, you will need
to convert it back to text format (see the <A HREF = "Section_tools.html#binary">binary2txt
tool</A>) or write your own code to read the
binary file.  The format of the binary file can be understood by
looking at the tools/binary2txt.cpp file.  This option is only
available for the <I>particle</I> style.
</P>
<P>If the filename ends with ".gz", the dump file (or files, if "*" or "%"
is also used) is written in gzipped format.  A gzipped dump file will
be about 3x smaller than the text version, but will also take longer
to write.
</P>
<HR>

<P>This section explains the particle attributes that can be specified as
part of the <I>particle</I> style.
</P>
<P>The <I>id</I>, <I>type</I>, <I>vx</I>, <I>vy</I>, <I>vz</I> attributes are self-explanatory.
</P>
<P><I>Id</I> is the particle ID.  <I>Type</I> is an integer index representing the
particle species.  <I>Vx</I>, <I>vy</I>, <I>vz</I> are components of particle
velocity.
</P>
<P>There are several options for outputting particle coordinates.  The
<I>x</I>, <I>y</I>, <I>z</I> attributes write particle coordinates "unscaled", in the
appropriate distance <A HREF = "units.html">units</A>.  Use <I>xs</I>, <I>ys</I>, <I>zs</I> if you
want the coordinates "scaled" to the box size, so that each value is
0.0 to 1.0.
</P>
<P>The <I>c_ID</I> and <I>c_ID[N]</I> attributes allow per-particle vectors or
arrays calculated by a <A HREF = "compute.html">compute</A> to be output.  The ID in
the attribute should be replaced by the actual ID of the compute that
has been defined previously in the input script.  See the
<A HREF = "compute.html">compute</A> command for details.
</P>
<P>Note that computes which calculate global or per-cell quantities, as
opposed to per-particle quantities, cannot be output in a dump
particle command.  Instead, global quantities can be output by the
<A HREF = "stats_style.html">stats_style</A> command, and per-cell quantities can be
output by the dump grid command.
</P>
<P>If <I>c_ID</I> is used as a attribute, then the per-particle vector
calculated by the compute is printed.  If <I>c_ID[N]</I> is used, then N
must be in the range from 1-M, which will print the Nth column of the
M-length per-particle array calculated by the compute.
</P>
<P>The <I>f_ID</I> and <I>f_ID[N]</I> attributes allow vector or array
per-particle quantities calculated by a <A HREF = "fix.html">fix</A> to be output.
The ID in the attribute should be replaced by the actual ID of the fix
that has been defined previously in the input script.
</P>
<P>If <I>f_ID</I> is used as a attribute, then the per-particle vector
calculated by the fix is printed.  If <I>f_ID[N]</I> is used, then N must
be in the range from 1-M, which will print the Nth column of the
M-length per-particle array calculated by the fix.
</P>
<P>The <I>v_name</I> attribute allows per-particle vectors calculated by a
<A HREF = "variable.html">variable</A> to be output.  The name in the attribute
should be replaced by the actual name of the variable that has been
defined previously in the input script.  Only a particle-style
variable can be referenced, since it is the only style that generates
per-particle values.  Variables of style <I>particle</I> can reference
per-particle attributes, stats keywords, or invoke other computes,
fixes, or variables when they are evaluated, so this is a very general
means of creating quantities to output to a dump file.
</P>
<P>See <A HREF = "Section_modify.html">Section_modify</A> of the manual for information
on how to add new compute and fix styles to DSMC to calculate
per-particle quantities which could then be output into dump files.
</P>
<HR>

<P><B>Restrictions:</B>
</P>
<P>To write gzipped dump files, you must compile DSMC with the
-DDSMC_GZIP option - see the <A HREF = "Section_start.html#start_2">Making DSMC</A>
section of the documentation.
</P>
<P><B>Related commands:</B>
</P>
<P><A HREF = "dump_image.html">dump image</A>, <A HREF = "dump_modify.html">dump_modify</A>,
<A HREF = "undump.html">undump</A>
</P>
<P><B>Default:</B>
</P>
<P>The defaults for the image style are listed on the <A HREF = "dump_image.html">dump
image</A> doc page.
</P>
</HTML>
